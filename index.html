<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Bank.FLR – DeFi</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.jsdelivr.net/npm/ethers@6.9.0/dist/ethers.min.js"></script>
<style>
:root{
  --bg:#020617; --panel:#0b1224; --border:#1e293b; --blue:#3b82f6; --cyan:#22d3ee;
  --text:#e5e7eb; --muted:#9ca3af; --hover-glow:rgba(34,211,238,0.9);
}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Inter,system-ui,Arial,sans-serif;background:var(--bg);color:var(--text);overflow-x:hidden}

/* BACKGROUND & PARTICLES */
.scene{position:fixed;inset:0;z-index:-5;background:
  radial-gradient(1200px at 70% 20%, rgba(59,130,246,.22), transparent),
  radial-gradient(900px at 20% 80%, rgba(34,211,238,.18), transparent);}
.glow{position:absolute;inset:-40%;background:conic-gradient(from 0deg, transparent, rgba(59,130,246,.18), transparent);animation:rotate 80s linear infinite;}
@keyframes rotate{to{transform:rotate(360deg)}}
.particle{position:absolute;width:4px;height:4px;background:rgba(255,255,255,.25);border-radius:50%;animation:float 18s infinite linear;}
@keyframes float{from{transform:translateY(0)}to{transform:translateY(-120vh)}}

/* HEADER */
header{position:fixed;top:0;left:0;width:100%;padding:24px 56px;display:flex;justify-content:space-between;align-items:center;background:rgba(2,6,23,.7);backdrop-filter:blur(14px);border-bottom:1px solid var(--border);z-index:10;}
header h1{font-size:18px;font-weight:700}
button{background:linear-gradient(135deg,var(--blue),var(--cyan));border:none;color:#020617;padding:14px 28px;border-radius:18px;font-weight:800;cursor:pointer;transition:.3s}
button:hover{box-shadow:0 0 28px var(--hover-glow)}
.secondary{background:transparent;color:var(--text);border:1px solid var(--border);}

/* HERO & CORE */
.hero{min-height:100vh;display:flex;align-items:center;padding:180px 96px;}
.hero-inner{max-width:1400px;display:grid;grid-template-columns:1fr 1fr;gap:140px;}
.eyebrow{color:#93c5fd;letter-spacing:.18em;font-size:12px;margin-bottom:26px;}
.hero h2{font-size:78px;font-weight:900;line-height:1.01;margin-bottom:34px;}
.hero p{font-size:22px;color:var(--muted);max-width:520px;margin-bottom:46px;}
.actions{display:flex;gap:20px}

/* CORE / ZEMĚKOULE */
.core{position:relative;height:520px;cursor:pointer;}
.center{position:absolute;inset:160px;border-radius:50%;background:radial-gradient(circle at top, #3b82f6, #020617 70%);box-shadow:0 0 200px rgba(59,130,246,.7);animation:pulse 6s ease-in-out infinite;cursor:pointer;}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.04)}}
.node{position:absolute;width:14px;height:14px;border-radius:50%;background:var(--cyan);box-shadow:0 0 26px rgba(34,211,238,.9);transform-origin:center;animation:orbitNode 12s linear infinite;transition:transform .3s, box-shadow .3s;}
.node.a{top:50%;left:50%;animation-delay:0s;}.node.b{top:50%;left:50%;animation-delay:4s;}.node.c{top:50%;left:50%;animation-delay:8s;}
.node:hover{transform:scale(1.5) rotate(0deg) translateX(180px);box-shadow:0 0 50px var(--hover-glow);}
@keyframes orbitNode{0%{transform:rotate(0deg) translateX(180px) rotate(0deg);}100%{transform:rotate(360deg) translateX(180px) rotate(-360deg);}}
.flare-symbol{position:absolute;top:50%;left:50%;font-size:36px;font-weight:900;background:linear-gradient(45deg,#3b82f6,#22d3ee,#8b5cf6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-shadow:0 0 10px #3b82f6,0 0 20px #22d3ee,0 0 30px #8b5cf6;white-space:nowrap;transform-origin:center;animation:orbitFlare 15s linear infinite,textPulse 3s ease-in-out infinite;cursor:pointer;}
@keyframes orbitFlare{0%{transform:rotate(0deg) translateX(180px) rotate(0deg);}100%{transform:rotate(360deg) translateX(180px) rotate(-360deg);}}
@keyframes textPulse{0%,100%{transform:scale(1) rotate(0deg) translateX(180px);}50%{transform:scale(1.08) rotate(0deg) translateX(180px);}}

/* KARTY */
section.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px;margin-top:60px;padding:0 56px;}
.card{background:var(--panel);padding:24px;border-radius:16px;transition:box-shadow .3s;}
.card:hover{box-shadow:0 0 40px var(--hover-glow);}
.card h2{margin-bottom:12px;font-size:20px;}
.card p{margin-bottom:12px;font-size:14px;color:var(--muted);}
input, select{padding:8px;border-radius:12px;border:1px solid var(--border);background:#0b1224;color:var(--text);width:100%;margin-bottom:12px;}
.card button{width:100%;padding:10px;font-weight:700;margin-top:6px;cursor:pointer;}

@media(max-width:900px){.hero{padding:140px 28px}.hero-inner{grid-template-columns:1fr}.core{display:none}.hero h2{font-size:48px}}
</style>
</head>
<body>

<div class="scene"><div class="glow"></div></div>

<header>
<h1>Bank.FLR – DeFi</h1>
<button id="connectWallet">Connect Wallet</button>
</header>

<section class="hero">
<div class="hero-inner">
<div data-parallax="0.3">
<div class="eyebrow">GLOBAL DECENTRALIZED BANK</div>
<h2>Where Global Capital<br>Moves Without Borders</h2>
<p>Institutional DeFi layer: secure vaults, instant liquidity, token swaps, and collaborative investments.</p>
<div class="actions">
<button class="secondary">Enter Bank</button>
<button class="secondary">Learn More</button>
</div>
</div>

<div class="core" data-parallax="0.15">
<div class="center"></div>
<div class="flare-symbol">BANK.FLR</div>
<div class="node a"></div>
<div class="node b"></div>
<div class="node c"></div>
</div>
</div>
</section>

<section class="cards">
<div class="card">
<h2>Vault – Spoření</h2>
<p>Zhodnocujte FLR a SGB bezpečně.</p>
<select id="vaultToken"><option value="FLR">FLR</option><option value="SGB">SGB</option></select>
<input type="number" id="vaultAmount" placeholder="Kolik tokenů vložit">
<button onclick="vault.deposit()">Vložit</button>
<button onclick="vault.withdraw()">Vybrat</button>
<p id="vaultStatus">Vklad: 0 | Očekávaný úrok: 0</p>
</div>

<div class="card">
<h2>Loan – Půjčky</h2>
<p>Půjčte si pod LTV 66 % s kolaterálem FLR/SGB.</p>
<select id="loanToken"><option value="FLR">FLR</option><option value="SGB">SGB</option></select>
<input type="number" id="collateralAmount" placeholder="Kolaterál">
<input type="number" id="borrowAmount" placeholder="Kolik půjčit">
<button onclick="loan.borrow()">Půjčit</button>
<button onclick="loan.repay()">Splatit</button>
<p id="loanStatus">Kolaterál: 0 | Dluh: 0 | LTV: 0%</p>
</div>

<div class="card">
<h2>DEX – Swap</h2>
<p>Směňte FLR ↔ SGB rychle a bezpečně.</p>
<select id="fromToken"><option value="FLR">FLR</option><option value="SGB">SGB</option></select>
<select id="toToken"><option value="FLR">FLR</option><option value="SGB">SGB</option></select>
<input type="number" id="swapAmount" placeholder="Množství k swapu">
<button onclick="dex.swap()">Swap</button>
<p id="swapStatus"></p>
</div>

<div class="card">
<h2>Portfolio – Přehled</h2>
<p>Sledujte stav vaultů, půjček a swapů.</p>
<button onclick="portfolio.refresh()">Aktualizovat</button>
<p id="portfolioStatus">Vaše finance budou zobrazeny zde.</p>
</div>

<div class="card">
<h2>Investice – Navrhněte plán</h2>
<p>Uživatelé navrhují investiční plán, investoři jej schvalují.</p>
<input type="text" id="investmentTitle" placeholder="Název plánu">
<textarea id="investmentDesc" placeholder="Popis investice" rows="3" style="width:100%;background:#0b1224;color:#e5e7eb;padding:8px;border-radius:12px;border:1px solid var(--border);margin-bottom:12px;"></textarea>
<button onclick="investments.submitPlan()">Navrhnout plán</button>
<button onclick="investments.approvePlan()">Schválit plán (Investor)</button>
<p id="investmentStatus">Žádné návrhy</p>
</div>
</section>

<script>
// PARTICLES
for(let i=0;i<40;i++){const p=document.createElement("div");p.className="particle";p.style.left=Math.random()*100+"%";p.style.top=100+Math.random()*100+"%";p.style.animationDuration=12+Math.random()*12+"s";document.body.appendChild(p);}

// PARALLAX
window.addEventListener("scroll",()=>{document.querySelectorAll("[data-parallax]").forEach(el=>{el.style.transform=`translateY(${window.scrollY*el.dataset.parallax}px)`;});});

// WALLET + CONTRACTS
let provider, signer, userAddress, vaultContract, loanContract, dexContract;
const vaultAddress="0xVAULT_CONTRACT_ADDRESS"; // doplň adresu
const loanAddress="0xLOAN_CONTRACT_ADDRESS";   // doplň adresu
const dexAddress="0xDEX_CONTRACT_ADDRESS";     // doplň adresu
const vaultABI=[], loanABI=[], dexABI=[];

async function connectWallet(){
  if(!window.ethereum)return alert("Nainstaluj MetaMask");
  provider=new ethers.BrowserProvider(window.ethereum);
  await provider.send("eth_requestAccounts",[]);
  signer=await provider.getSigner();
  userAddress=await signer.getAddress();
  alert("Wallet connected: "+userAddress);
  vaultContract=new ethers.Contract(vaultAddress,vaultABI,signer);
  loanContract=new ethers.Contract(loanAddress,loanABI,signer);
  dexContract=new ethers.Contract(dexAddress,dexABI,signer);
}

// PLACEHOLDER LOGIC
const vault={deposit:async()=>{},withdraw:async()=>{},updateVaultDisplay:async()=>{}};
const loan={borrow:async()=>{},repay:async()=>{},updateLoanDisplay:async()=>{}};
const dex={swap:async()=>{},updateDEXDisplay:async()=>{}};
const portfolio={refresh:async()=>{}};

const investments={
  submitPlan:()=>{const title=document.getElementById("investmentTitle").value;const desc=document.getElementById("investmentDesc").value;document.getElementById("investmentStatus").innerText=`Navržený plán: ${title} – ${desc}`;},
  approvePlan:()=>{document.getElementById("investmentStatus").innerText+="\nPlán schválen investorem";}
};

document.getElementById("connectWallet").onclick=connectWallet;
</script>

</body>
</html>
